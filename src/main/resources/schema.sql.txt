
CREATE TABLE Person (
                id_person INT AUTO_INCREMENT NOT NULL,
                name VARCHAR(50) NOT NULL,
                surname VARCHAR(50) NOT NULL,
                email VARCHAR(64) NOT NULL,
                password VARCHAR(64) NOT NULL,
                accountfunds DECIMAL(11,2) NOT NULL,
                PRIMARY KEY (id_person)
);


CREATE TABLE Buddiesconnexion (
                id_connexion INT AUTO_INCREMENT NOT NULL,
                center INT NOT NULL,
                buddyofcenter INT NOT NULL,
                PRIMARY KEY (id_connexion)
);


CREATE TABLE Transaction (
                id_transactions INT AUTO_INCREMENT NOT NULL,
                commentaire VARCHAR(256) NOT NULL,
                amount DECIMAL(11,2) NOT NULL,
                willpayperson INT NOT NULL,
                willbepayedperson INT NOT NULL,
                PRIMARY KEY (id_transactions)
);


CREATE TABLE Account_operation (
                id_operation INT AUTO_INCREMENT NOT NULL,
                typeoftransaction BOOLEAN NOT NULL,
                amount DECIMAL(11,2) NOT NULL,
                accountholder INT NOT NULL,
                PRIMARY KEY (id_operation)
);


ALTER TABLE Transaction ADD CONSTRAINT person_transactions_fk
FOREIGN KEY (willpayperson)
REFERENCES Person (id_person)
ON DELETE NO ACTION
ON UPDATE NO ACTION;

ALTER TABLE Transaction ADD CONSTRAINT person_transactions_fk1
FOREIGN KEY (willbepayedperson)
REFERENCES Person (id_person)
ON DELETE NO ACTION
ON UPDATE NO ACTION;

ALTER TABLE Account_operation ADD CONSTRAINT person_bank_account_fk
FOREIGN KEY (accountholder)
REFERENCES Person (id_person)
ON DELETE NO ACTION
ON UPDATE NO ACTION;

ALTER TABLE Buddiesconnexion ADD CONSTRAINT person_buddiesconnexion_fk
FOREIGN KEY (center)
REFERENCES Person (id_person)
ON DELETE NO ACTION
ON UPDATE NO ACTION;

ALTER TABLE Buddiesconnexion ADD CONSTRAINT person_buddiesconnexion_fk1
FOREIGN KEY (buddyofcenter)
REFERENCES Person (id_person)
ON DELETE NO ACTION
ON UPDATE NO ACTION;
