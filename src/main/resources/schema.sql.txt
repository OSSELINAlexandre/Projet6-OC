
CREATE TABLE Person (
                id_person INT AUTO_INCREMENT NOT NULL,
                name VARCHAR(50) NOT NULL,
                surname VARCHAR(50) NOT NULL,
                email VARCHAR(64) NOT NULL,
                password VARCHAR(264) NOT NULL,
                accountfunds DECIMAL(11,2) NOT NULL,
                PRIMARY KEY (id_person)
);


CREATE TABLE Buddiesconnexion (
                id_connexion INT AUTO_INCREMENT NOT NULL,
                center INT NOT NULL,
                buddyofcenter INT NOT NULL,
                PRIMARY KEY (id_connexion)
);


CREATE TABLE Transaction (
                id_transactions INT AUTO_INCREMENT NOT NULL,
                commentaire VARCHAR(256) NOT NULL,
                amount DECIMAL(11,2) NOT NULL,
                willpayperson INT NOT NULL,
                willbepayedperson INT NOT NULL,
                PRIMARY KEY (id_transactions)
);


CREATE TABLE Account_operation (
                id_operation INT AUTO_INCREMENT NOT NULL,
                typeoftransaction BOOLEAN NOT NULL,
                amount DECIMAL(11,2) NOT NULL,
                accountholder INT NOT NULL,
                PRIMARY KEY (id_operation)
);


ALTER TABLE Transaction ADD CONSTRAINT person_transactions_fk
FOREIGN KEY (willpayperson)
REFERENCES Person (id_person)
ON DELETE NO ACTION
ON UPDATE NO ACTION;

ALTER TABLE Transaction ADD CONSTRAINT person_transactions_fk1
FOREIGN KEY (willbepayedperson)
REFERENCES Person (id_person)
ON DELETE NO ACTION
ON UPDATE NO ACTION;

ALTER TABLE Account_operation ADD CONSTRAINT person_bank_account_fk
FOREIGN KEY (accountholder)
REFERENCES Person (id_person)
ON DELETE NO ACTION
ON UPDATE NO ACTION;

ALTER TABLE Buddiesconnexion ADD CONSTRAINT person_buddiesconnexion_fk
FOREIGN KEY (center)
REFERENCES Person (id_person)
ON DELETE NO ACTION
ON UPDATE NO ACTION;

ALTER TABLE Buddiesconnexion ADD CONSTRAINT person_buddiesconnexion_fk1
FOREIGN KEY (buddyofcenter)
REFERENCES Person (id_person)
ON DELETE NO ACTION
ON UPDATE NO ACTION;

INSERT INTO Person VALUES(1, 'Abraham', 'Lincoln', 'Abraham.Lincoln@gmail.com', '$2y$10$5rjk8fTus0ehUSFmvSvYg.6kh6CLk7Vh.Al5dZQlBKmAPUZ54Cg52', 150.00);
INSERT INTO Person VALUES(2, 'Benjamin', 'Franklin', 'Benjamin.Franklin@gmail.com', '$2y$10$pN2gcTALKjQPOSSowJWu2e8kCDgpIjm4I5trIpYl1TfvMpehK/1VK', 250.00);
INSERT INTO Person VALUES(3, 'Barack', 'Obama', 'Barack.Obama@gmail.com', '$2y$10$.jwK0eJXiQz/8xCOe/ThXuKar89iGTM6ZxpZVWKX6R871DN2Ctsr.', 350.00);
INSERT INTO Buddiesconnexion VALUES(1 , 1 , 3);
INSERT INTO Buddiesconnexion VALUES(2 , 1 , 2);
INSERT INTO Buddiesconnexion VALUES(3 , 2 , 3);
INSERT INTO Transaction VALUES(1 , 'Thank you for the White House ! It is a delight to live in !', 55.0, 3, 2);
INSERT INTO Transaction VALUES(2 , 'Thank you for this incredible revolution !Was completely worth it', 77.0, 3, 1);
